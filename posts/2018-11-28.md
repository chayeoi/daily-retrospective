# 2018년 11월 29일

## 국제화 적용

글로벌 서비스를 만들 예정이라면, 시작부터 국제화를 고려해서 개발하는게 좋았을 거라는 사실을 뼈저리게 느꼈다. `*.js` 파일에 하드하게 박혀있는 한국어 텍스트를 모두 포맷된 메세지로 변경해줘야 하는데 생각보다 양이 엄청날 뿐더러.. 컴포넌트가 아닌 파일에 한국어 텍스트가 들어가있는 부분이 있는데, 이 부분은  `react-intl` 라이브러리에서 포맷된 메세지로 변경할 방법이 현재까지 알아본 바로는 없어보인다. 그냥 구조를 뜯어고치는 수밖에 없을 것 같다. 국제화 적용을 처음부터 고려했더라면 `react-intl` 라이브러리의 사용법을 고려해서 이런 형태로 구조를 잡지 않았을 것이다.

## 이해할 수 없는 오류

잘 동작하고 있던 코드에 오늘 갑자기 에러가 발생했다.

**Error: You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.**

에러가 발생한 지점으로 앱 접속 시 리덕스 스토어에 토큰을 저장하는 코드를 가리키고 있었다. 이 부분은 건드린 적이 없었는데.. 혹시나 하고 커밋을 하나씩 되돌리면서 확인해봐도 에러가 해결되지 않았다.

구글링해본 결과, Redux Devtools과 관련된 문제일 수도 있다는 걸 확인하고 Redux Devtools 확장 도구를 disabled시키니까 에러가 해결됐다. 근데, 개발하려면 Redux Devtools를 계속 disabled된 채로 둘 수는 없으니깐 근본 원인을 빠른 시일 내에 해결해야할 것 같다.