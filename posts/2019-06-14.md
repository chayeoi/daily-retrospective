# 2019년 6월 14일

## 모달 창이 띄워졌을 때 바디 영역의 스크롤 방지하기

가정통신문 확대 보기 기능 구현을 위해 Modal UI가 필요한 상황이었는데, Material UI에서 기본적으로 제공하는 컴포넌트로는 커스터마이징이 까다로울 것 같다고 판단해서 직접 구현하기로 결정했다.

`React.createPortal` API를 사용해서 금방 구현하긴 했지만, 모달 창이 띄워진 상황에서도 바디 영역의 스크롤이 작동한다는 문제가 있었다. 이 문제를 해결할 수 있는 가장 간단한 방법으로는 `<body />` 요소에 `overflow: hidden;` 처리를 적용하는 것인데, 모바일 Safari 브라우저에서는 이 방법으로도 문제가 해결되지 않는다고 한다. 이 외의 여러 방식들을 찾아보다가 [body-scroll-lock](https://github.com/willmcpo/body-scroll-lock)라는 괜찮은 라이브러리를 발견했는데, 모바일 사파리에서도 동작할 뿐더러 사용법도 매우 간단해서 이 라이브러리를 적용해서 문제를 해결했다. 일정이 빠듯한 관계로 자세한 내부 동작 메커니즘은 살펴보지 못했다. 나중에는 라이브러리의 도움없이 직접 해결할 방법을 공부해봐야겠다.

이렇게 문제를 해결하고 나서 Material UI에서 제공하는 [Modal](https://material-ui.com/components/modal/) 컴포넌트를 살펴봤는데, 굳이 다른 라이브러리를 쓸 필요가 없었던 듯하다. 직접 구현해야겠다고 판단했던 시점에는 Material UI에서 Modal 컴포넌트를 제공한다는 사실을 순간적으로 깜빡하고 있었다. 그렇기 때문에 `Dialog`와 같은 컴포넌트를 직접 커스터마이징하는 방법만을 생각해서 오히려 더 복잡할 거라 생각했던 건데, `Modal` 컴포넌트를 이용하면 더 깔끔하게 해결할 수 있을 것 같아서 `Modal` 컴포넌트로 다시 구현했다..ㅎ
